
# 디자인 패턴과 프로그래밍 패러다임

# 1.1 디자인 패턴  
#### 디자인 패턴이란 프로그램을 설계할 때 발생했던 문제점들을 객체 간의 상호 관게 등을 이용하여 해결할 수 있도록 하나의 '규약' 형태로 만들어 놓은 것을 의미한다.  
  

## 1.1.1 싱글톤 패턴
  싱글톤 패턴(singleton pattern)은 하나의 클래스에 오직 하나의 인스턴스만 가지는 패턴이다. 보통 데이터베이스 연결 모듈에 많이 사용한다  
  
- 자바에서의 싱글톤 패턴 
```
class Singleton () {
  private static class singleInstanceHolder {
      private static final Singleton INSTANCE = new Singleton();
  }
  public static synchronized Singleton getInstance() {
    return singleInstanceHolder.INSTANCE;
  }
}
```
#### 싱글톤 패턴의 단점 
싱글톤 패턴은 TTD(Test Driven Development)를 할 때 걸림돌이 된다. TDD를 할 때 단위 테스트를 주로 하는데, 단위 테스트는 테스트가 서로 독립적이어야 하며 테스트를 어떤 순서로든 실행할 수 있어야 한다. 하지만 싱글톤 패턴은 미리 생성된 하나의 인스턴스를 기반으로 구현하는 패턴이므로 각 테스트마다 '독립적인' 인스턴스를 만들기가 어렵다.
#### 의존성 주입
또한, 싱글톤 패턴은 사용하기가 쉽고 굉장히 실용적이지만 모듈 간의 결합을 강하게 만들 수 있다는 단점이 있다. 이때 의존성 주입(DI, Dependency Injection)을 통해 모듈간의 결합을 조금 더 느슨하게 만들어 해결할 수 있다. 참고로 의존성이란 종속성이라고도 하며 A가 B에 의존성이 있다는 것은 B의 변경 사항에 대해 A 또한 변해야 된다는 것을 의미한다. 
메인 모듈이 직접 다른 하위 모듈에 대한 의존성을 주기보다는 중간에 의존성 주입자(dependency injector)가 이 부분을 가로채 메인 모듈이 간접적으로 의존성을 주입하는 방식이다.
이를 통해 메인 모듈(상위 모듈)은 하위 모듈에 대한 의존성이 떨어지게 된다. 참고로 이를 '디커플링이 된다'고 한다.
#### 의존성 주입의 장점 
모듈을 쉽게 교체할 수 있는 구조가 되어 테스팅하기 쉽고 마이그레이션하기도 수월하다. 또한 구현할 때 추상화 레이어를 넣고 이를 기반으로 구현체를 넣어 주기 때문에 어플리케이션 의존성 방향이 일관되고, 어플리케이션을 쉽게 추론할 수 있으며, 모듈 간의 관계들이 조금 명확해진다.
#### 의존성 주입의 단점
모듈들이 더욱 분리되므로 클래스 수가 늘어나 복잡성이 증가될 수 있으며 약간의 런타임 패널티가 생기기도 한다.
#### 의존성 주입의 원칙
의존성 주입은 '상위 모듈은 하위 모듈에서 어떠한 것도 가져오지 않아야 한다. 또한 둘 다 추상화에 의존해야 하며, 이때 추상화는 세부 사항에 의존하지 말아야 한다' 라는 의존성 주입 원칙을 지켜주면서 만들어줘야 한다.  
  
## 1.1.2 팩토리 패턴
팩토리 패턴(factory pattern)은 객체를 사용하는 코드에서 객체 생성 부분을 떼어내서 추상화한 패턴이자 상속 관계에 있는 두 클래스에서 상위 클래스가 중요한 뼈대를 결정하고 하위 클래스에서 객체 생성에 관한 구체적인 내용을 결정하는 패턴이다. 상위 클래스와 하위 클래스가 분리되기 때문에 느슨한 결합을 가지며 상위 클래스에서는 인스턴스 생성 방식에 대해 전혀 알 필요가 없기 때문에 더 많은 유연성을 갖게 된다. 그리고 객체 생성 로직이 따로 뗴어져 있기 때문에 코드를 리팩터링 하더라도 한 곳만 고칠 수 있게 되니 유지 보수성이 증가된다. 


## 1.1.3 전략 패턴
전략 패턴(strategy pattern)은 정책 패턴(policy pattern)이라고도 하며, 객체의 행위를 바꾸고 싶은 경우 ‘직접’ 수정하지 않고 전략이라고 부르는 ‘캡슐화한 알고리즘’을 컨텍스트 안에서 바꿔주면서 상호 교체가 가능하게 만드는 패턴이다.


## 1.1.4 옵저버 패턴
## 1.1.5 프록시 패턴과 프록시 서버
## 1.1.6 이터레이터 패턴
## 1.1.7 노출모듈 패턴
## 1.1.8 MVC 패턴
## 1.1.9 MVP 패턴
## 1.1.10 MVVM 패턴 
